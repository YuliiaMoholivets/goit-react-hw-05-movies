"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[900],{900:function(t,e,r){r.r(e),r.d(e,{default:function(){return m}});var n=r(861),a=r(439),i=r(757),u=r.n(i),s=r(874),c=r(791),o=r(689),p="Cast_list__GlWio",f="Cast_image__mOsuM",l="Cast_item__a0CDL",d=r(184),m=function(){var t=(0,o.UO)(),e=Number(t.moviesId),r=(0,c.useState)([]),i=(0,a.Z)(r,2),m=i[0],h=i[1],v=(0,c.useState)(null),_=(0,a.Z)(v,2),g=_[0],w=_[1],x=(0,c.useState)(!1),b=(0,a.Z)(x,2),k=b[0],y=b[1];return(0,c.useEffect)((function(){if(e){var t=function(){var t=(0,n.Z)(u().mark((function t(e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,y(!0),t.next=4,(0,s.Yc)(e);case 4:r=t.sent,h(r),w(""),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),w(t.t0.message);case 12:return t.prev=12,y(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}();t(e)}}),[e]),(0,c.useEffect)((function(){g&&alert(g)}),[g]),(0,d.jsx)("section",{children:m.length>0&&!k&&(0,d.jsx)("ul",{className:p,children:m.map((function(t){var e=t.id,r=t.name,n=t.profile_path;return(0,d.jsxs)("li",{className:l,children:[(0,d.jsx)("img",{className:f,src:n,alt:r}),(0,d.jsx)("p",{children:r})]},e)}))})})}},874:function(t,e,r){r.d(e,{FP:function(){return l},Yc:function(){return v},fI:function(){return g},s7:function(){return p},s9:function(){return m}});var n=r(861),a=r(757),i=r.n(a),u=r(912),s=r(958);u.Z.defaults.baseURL="https://api.themoviedb.org/3/";var c="817d33fa7e0ddfc368fbd7439a742f76",o={api_key:c,language:"en-US",include_adult:!1};function p(){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(i().mark((function t(){var e,r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("/trending/movie/day",{params:o});case 2:return e=t.sent,r=e.data,n=r.results.map((function(t){return{id:t.id,original_title:t.original_title}})),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return d=(0,n.Z)(i().mark((function t(e){var r,n,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={query:e,api_key:c,language:"en-US",include_adult:!1},t.next=3,u.Z.get("/search/movie",{params:r});case 3:return n=t.sent,a=n.data,s=a.results.map((function(t){return{id:t.id,original_title:t.original_title}})),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function m(t){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(i().mark((function t(e){var r,n,a,c,p,f,l,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("/movie/".concat(e),{params:o});case 2:return r=t.sent,n=r.data,a=n.poster_path,c=n.original_title,p=n.release_date,f=n.vote_average,l=n.overview,d=n.genres,t.abrupt("return",{poster_path:a?"https://image.tmdb.org/t/p/w500"+a:s,original_title:c,release_date:p.slice(0,4),vote_average:f.toFixed(2),overview:l,genres:d.map((function(t){return t.name})).join(", ")});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(i().mark((function t(e){var r,n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("/movie/".concat(e,"/credits"),{params:o});case 2:return r=t.sent,n=r.data,a=n.cast.map((function(t){var e=t.id,r=t.name,n=t.profile_path;return{id:e,name:r,profile_path:n?"https://image.tmdb.org/t/p/w500"+n:s}})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return w.apply(this,arguments)}function w(){return(w=(0,n.Z)(i().mark((function t(e){var r,n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("/movie/".concat(e,"/reviews"),{params:o});case 2:return r=t.sent,n=r.data,a=n.results.map((function(t){return{id:t.id,author:t.author,content:t.content}})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},958:function(t,e,r){t.exports=r.p+"static/media/img.d25e8d14857edd0cff6b.png"}}]);
//# sourceMappingURL=900.fb5eb375.chunk.js.map